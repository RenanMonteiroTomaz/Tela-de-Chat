<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ex. 01 - chat html - sw front-end</title>
    <!-- A TAG ABAIXO SERVE PARA LINKAR UM CSS EXTERNO A UM ARQUIVO .HTML -->
    <link rel="stylesheet" href="chat.css" />
  </head>
  <body>
    <div id="chat-screen">
      <header>
        <h2>Atendimento   On-line</h2>
      </header>
      <div id = "lista-conversa" class="messages-list">
        <div class="message-item">
          <div class="msg-user"><strong>Atendente diz:</strong></div>
          <div class="msg-chat">Olá Sr. Blabla</div>
        </div>
        <div class="message-item">
          <div class="msg-user"><strong>Atendente diz:</strong></div>
          <div class="msg-chat">Blabla blabla blabla?</div>
        </div>
        <div class="message-item message-user">
          <div class="msg-user"><strong>Você diz:</strong></div>
          <div class="msg-chat">Blablaaaa Bla</div>
        </div>
        <div class="message-item message-user">
          <div class="msg-user"><strong>Você diz:</strong></div>
          <div class="msg-chat">Bla blabla Ba</div>
        </div>
        <div class="message-item">
          <div class="msg-user"><strong>Atendente diz:</strong></div>
          <div class="msg-chat">KKKKKKKKKKK blabla?</div>
        </div>
        <div class="message-item">
          <div class="msg-user"><strong>Atendente diz:</strong></div>
          <div class="msg-chat">Blabla Blaaba </div>
        </div>
      </div>
      <form id="form-chat-send" action="index.html" method="post">
        <input id="item-name" type="text" id="message" name="message" placeholder="Digite sua mensagem..." maxlength="60" >
        <button type="submit">ENVIAR</button>
      </form>
    </div>
    <script>
      
    function adicionaConversa(event) {
        event.preventDefault();

        const messageInput = document.querySelector("#item-name").value;
        if (messageInput.trim() === "") return; 
        const listaConversas = document.querySelector("#lista-conversa");

        const messageItem = document.createElement("div");
        messageItem.classList.add("message-item", "message-user");

        const messageUser = document.createElement("div");
        messageUser.classList.add("msg-user");
        messageUser.innerHTML = "<strong>Você diz:</strong>";

        const messageChat = document.createElement("div");
        messageChat.classList.add("msg-chat");
        messageChat.textContent = messageInput;

        messageItem.appendChild(messageUser);
        messageItem.appendChild(messageChat);
        listaConversas.appendChild(messageItem);
  
        //Limpar input apos enviar msg
        document.querySelector("#item-name").value = "";
    }

    const formAddItem = document.querySelector("#form-chat-send");
    formAddItem.addEventListener("submit", adicionaConversa);
    </script>
  </body>
</html>